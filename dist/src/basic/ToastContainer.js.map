{"version":3,"sources":["../../../src/basic/ToastContainer.js"],"names":["ToastContainer","props","state","modalVisible","nextProps","setState","showToast","autoHide","duration","console","warn","position","alert","margin","OS","flex","justifyContent","danger","success","warning","children","buttonText","buttonPress","undefined","propTypes","style","PropTypes","object"],"mappings":";;;AAGA,4B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;;;AAGMA,c;AACJ,wBAAYC,KAAZ,CAAmB;AACXA,KADW;AAEjB,MAAKC,KAAL,CAAa;AACXC,aAAc,KADH,CAAb,CAFiB;;AAKlB,C;AACyBC,S,CAAW;AACnC,KAAKC,QAAL,CAAc;AACZF,aAAcC,UAAUE,SADZ,CAAd;;;;;;;;;;;;;;;;AAiBD,C;AACmB;AAClB,GAAI,CAAC,KAAKL,KAAL,CAAWM,QAAZ,EAAwB,KAAKN,KAAL,CAAWO,QAAvC,CAAiD;AAC/CC,QAAQC,IAAR;AACD;AACF,C;AACQ;AACP;AACE;AACE,cAAgB,KAAKT,KAAL,CAAWU,QAAX,EAAqB,QAAtB,CAAkC,OAAlC,CAA4C,MAD7D;AAEE,YAAa,IAFf;AAGE,QAAS,KAAKT,KAAL,CAAWC,YAHtB;AAIE,eAAgB,yBAAM,CAACS,MAAM,wBAAN,EAAgC,CAJzD;;AAME,iDAAM,MAAO;AACTC,OAAS,sBAASC,EAAT,GAAc,KAAf,CAAwB,EAAxB,CAA6B,CAD5B;AAETC,KAAM,CAFG;AAGTC,eAAiB,KAAKf,KAAL,CAAWU,QAAX,GAAsB,KAAvB,CAAgC,YAAhC,CAAgD,KAAKV,KAAL,CAAWU,QAAX,GAAsB,QAAvB,CAAmC,UAAnC,CAAiD,KAAKV,KAAL,CAAWU,QAAX,GAAsB,QAAvB,CAAmC,QAAnC,CAA8C,YAHpJ,CAAb;AAIE;AACE,OAAS,KAAKV,KAAL,CAAWgB,MAAZ,CAAsB,IAAtB,CAA6B,KADvC;AAEE,QAAU,KAAKhB,KAAL,CAAWiB,OAAZ,CAAuB,IAAvB,CAA8B,KAFzC;AAGE,QAAU,KAAKjB,KAAL,CAAWkB,OAAZ,CAAuB,IAAvB,CAA8B,KAHzC;AAIG,KAAKlB,KAAL,CAAWmB,QAJd;AAKI,KAAKnB,KAAL,CAAWoB,UAAZ,EAA2B,8CAAQ,QAAS,kBAAM;AAC9C,OAAKpB,KAAL,CAAWqB,WAAZ,CAA2B,OAAKrB,KAAL,CAAWqB,WAAX,EAA3B,CAAsDC,SAAtD;AACD,CAFyB;AAG1B,8CAAO,KAAKtB,KAAL,CAAWoB,UAAlB,CAH0B,CAL9B,CAJF,CANF,CADF;;;;;;;AA0BD,C;;;AAGHrB,eAAewB,SAAf;AACK,kBAAKA,SADV;AAEEC,MAAO,gBAAMC,SAAN,CAAgBC,MAFzB,G;;;;AAME3B,c,CAAAA,c","file":"ToastContainer.js","sourcesContent":["/* @flow */\n\n\nimport React, { Component } from 'react';\nimport { View, Modal, Platform } from 'react-native';\nimport { connectStyle } from '@shoutem/theme';\nimport { Text } from './Text';\nimport { Button } from './Button';\nimport { ViewNB } from './View';\nimport { Toast } from './Toast';\nimport mapPropsToStyleNames from '../Utils/mapPropsToStyleNames';\n\n\nclass ToastContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      modalVisible: nextProps.showToast\n    });\n    // if (nextProps.autoHide) {\n    //   setTimeout(()=> {\n    //     this.setState({\n    //       modalVisible: false\n    //     });\n    //   }, this.state.duration);\n    // }\n    // else if (nextProps.autoHide && nextProps.duration) {\n    //   setTimeout(()=> {\n    //     this.setState({\n    //       modalVisible: false\n    //     });\n    //   }, nextProps.duration);\n    // }\n  }\n  componentDidMount() {\n    if (!this.props.autoHide && this.props.duration) {\n      console.warn(`It's not recommended to set autoHide false with duration`);\n    }\n  }\n  render() {\n    return (\n      <Modal\n        animationType={(this.props.position=='bottom') ? \"slide\" : \"fade\"}\n        transparent={true}\n        visible={this.state.modalVisible}\n        onRequestClose={() => {alert(\"Modal has been closed.\")}}\n        >\n        <View style={{\n            margin: (Platform.OS==='ios') ? 20 : 0,\n            flex: 1,\n            justifyContent: (this.props.position==='top') ? 'flex-start' : (this.props.position==='bottom') ? 'flex-end' : (this.props.position==='center') ? 'center' : 'flex-start'}}>\n          <Toast\n            danger={(this.props.danger) ? true : false}\n            success={(this.props.success) ? true : false}\n            warning={(this.props.warning) ? true : false}>\n            {this.props.children}\n            {(this.props.buttonText) && <Button onPress={() => {\n                (this.props.buttonPress) ? this.props.buttonPress() : undefined\n              }}>\n              <Text>{this.props.buttonText}</Text>\n            </Button>}\n\n          </Toast>\n        </View>\n      </Modal>\n    );\n  }\n}\n\nToastContainer.propTypes = {\n  ...View.propTypes,\n  style: React.PropTypes.object,\n};\n\nexport {\n  ToastContainer,\n};\n"]}