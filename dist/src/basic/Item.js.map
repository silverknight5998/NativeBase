{"version":3,"sources":["../../../src/basic/Item.js"],"names":["Item","props","state","text","topAnim","Value","opacAnim","timing","toValue","duration","start","label","labelProps","newLabel","floatingLabel","push","createElement","key","float","floatUp","floatBack","focused","newChildren","childrenArray","Children","toArray","children","_","remove","item","type","input","inputProps","length","inlineLabel","stackedLabel","fixedLabel","position","left","right","top","opacity","paddingTop","OS","undefined","renderLabel","setState","_root","c","renderChildren","childrenType","propName","component","error","prop","Error","displayName","propTypes","style","PropTypes","object","bool","success","StyledItem"],"mappings":"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","file":"Item.js","sourcesContent":["import React, { Component } from 'react';\nimport { TouchableOpacity, Animated, Platform } from 'react-native';\nimport { Input } from './Input';\nimport { Label } from './Label';\n\nimport { connectStyle } from '@shoutem/theme';\nimport mapPropsToStyleNames from '../Utils/mapPropsToStyleNames';\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      topAnim: new Animated.Value(18),\n      opacAnim: new Animated.Value(1),\n    };\n  }\n\n  floatBack() {\n    Animated.timing(this.state.topAnim, {\n      toValue: 18,\n      duration: 150,\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 1,\n      duration: 150,\n    }).start();\n  }\n\n  floatUp() {\n    Animated.timing(this.state.topAnim, {\n      toValue: 0,\n      duration: 150,\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 0.5,\n      duration: 150,\n    }).start();\n  }\n\n  renderLabel(label, labelProps) {\n    const newLabel = [];\n    if (this.props.floatingLabel) {\n      if (this.state.text) {\n        newLabel.push(React.createElement(\n          Label,\n          {\n            ...labelProps,\n            key: 'newFLabel',\n            float: true,\n          }\n        ));\n        this.floatUp();\n      } else {\n        newLabel.push(label);\n        this.floatBack();\n      }\n    } else if (this.state.text) {\n      newLabel.push(React.createElement(\n          Label,\n        {\n          ...labelProps,\n          key: 'newLabel',\n          focused: true,\n        }\n        ));\n    } else {\n      newLabel.push(label);\n    }\n    return newLabel;\n  }\n\n  renderChildren() {\n    const newChildren = [];\n    const childrenArray = React.Children.toArray(this.props.children);\n\n    let label = [];\n    let labelProps = {};\n    label = _.remove(childrenArray, (item) => {\n      if (item.type === Label) {\n        labelProps = item.props;\n        return item;\n      }\n    });\n\n    let input = [];\n    let inputProps = {};\n    input = _.remove(childrenArray, (item) => {\n      if (item.type === Input) {\n        inputProps = item.props;\n        return item;\n      }\n    });\n    if (label.length && input.length) {\n      if (!this.props.inlineLabel && !this.props.stackedLabel && !this.props.fixedLabel) {\n        newChildren.push((this.props.floatingLabel) ? <Animated.View key=\"float\" style={{ position: 'absolute', left: 0, right: 0, top: this.state.topAnim, opacity: this.state.opacAnim, paddingTop: (Platform.OS === 'ios') ? undefined : 30 }}>{this.renderLabel(label, labelProps)}</Animated.View> : this.renderLabel(label, labelProps));\n        newChildren.push(<Input key=\"l2\" {...inputProps} onChangeText={text => this.setState({ text })} />);\n      } else {\n        return this.props.children;\n      }\n    }\n    return newChildren;\n  }\n  render() {\n    return (\n      <TouchableOpacity ref={c => this._root = c} {...this.props} activeOpacity={1}>\n        {this.renderChildren()}\n      </TouchableOpacity>\n    );\n  }\n}\n\nconst childrenType = function (props, propName, component) {\n  let error;\n  const prop = props[propName];\n  if (!props.children.length) {\n    error = new Error(`${component} should have both Label and Input components`);\n  } else if (props.children[0].type.displayName !== 'Styled(Label)' || props.children[1].type.displayName !== 'Styled(Input)') {\n    error = new Error(`${component} should have Label and Input components only`);\n  }\n  return error;\n};\n\nItem.propTypes = {\n  ...TouchableOpacity.propTypes,\n  children: childrenType,\n  style: React.PropTypes.object,\n  inlineLabel: React.PropTypes.bool,\n  floatingLabel: React.PropTypes.bool,\n  stackedLabel: React.PropTypes.bool,\n  fixedLabel: React.PropTypes.bool,\n  success: React.PropTypes.bool,\n  error: React.PropTypes.bool,\n};\n\nconst StyledItem = connectStyle('NativeBase.Item', {}, mapPropsToStyleNames)(Item);\n\nexport {\n  StyledItem as Item,\n};\n"]}